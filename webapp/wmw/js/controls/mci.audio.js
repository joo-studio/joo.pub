/**
* h5player v0.0.1 by yangyin 
* Copyright 2014 yangyin@mcitech.cn http://weibo.com/nodersolar
*/
!function(a){"function"==typeof define&&define.amd?define("mci.audio",["jquery"],a):a(jQuery)}(function(a){"use strict";var b=function(a){return this instanceof b?this.init(a):new b(a)};return b.prototype.init=function(b){var c=this;if(c.options=c.options||{autoPlay:!1,autoStop:!1,autoPlayDelay:0,audioRes:"",imageCount:0,loopTime:0},c.options=a.extend(c.options,b),!c.options.dom)throw"setting dom can't be null or undefine";c.dom=c.options.dom,c.loopedCount=0,c.audio=c.dom.find(">.mci-audio-i >audio")},b.prototype.handleEvent=function(a){switch(a.type){case"click":}},b.prototype.start=function(){var a=this;a.stoped=!1,a.options.width&&a.audio.attr("width",a.options.width+"px"),a.options.height&&a.audio.attr("height",a.options.height+"px"),a.audio.on("error",function(){a.audio.hide()}),a.audio.on("ended",function(){-1==a.options.loopTime&&0==a.stoped?(a.audio[0].currentTime=0,a.audio[0].src=a.options.audioRes,a.audio[0].play()):0==a.stoped&&a.loopedCount<a.options.loopTime&&(a.loopedCount=a.loopedCount+1,a.audio[0].currentTime=0,a.audio[0].src=a.options.audioRes,a.audio[0].play())}),a.audio[0].src=a.options.audioRes,a.options.autoPlay&&(a.options.autoPlayDelay>0?setTimeout(function(){a.loopedCount=a.loopedCount+1,a.audio[0].play()},a.options.autoPlayDelay):(a.loopedCount=a.loopedCount+1,a.audio[0].play()))},b.prototype.stop=function(){var a=this;a.audio[0].pause(),a.stoped=!0,a.loopedCount=0},window.MciAudio=b,b});