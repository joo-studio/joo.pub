<!DOCTYPE html>
<html lang="zh" class="no-js">

<head>
    <meta charset="UTF-8">
    <stl:include file="@/include/meta.html" />
    <stl:include file="@/include/css.html" />
</head>

<body>
    <stl:include file="@/include/header.html" />
    <stl:include file="@/include/code-banner.html" />
    <div class="container">
        <div class="m2posBox">
            <ol class="breadcrumb">
                <li>当前位置：首页</li>
                <li>API接口</li>
                <li>
                    <stl:channel type="Title" upLevel="1"></stl:channel>
                </li>
                <li>
                    <stl:channel type="Title"></stl:channel>
                </li>
            </ol>
        </div>
        <div class="m2apiBox clearfix">
            <stl:include file="@/include/api-left.html" />
            <!-- code begin -->
            <div class="m2apiCon">
        <div class="m2apiMnm" id="cd-placeholder-1">代码示例</div>
        <div class="m2apiEditor autoMaxImg">
          <div class="m2api_t1" id="cd-placeholder-1_1">ASP</div>
            <div class="m2apiCoder">
<pre>
<%@LANGUAGE="VBSCRIPT" CODEPAGE="65001"%>
<%
'请将文件另存为UT-8
dim AccountID,MsgId,MobilePhone,ReportResultInfo,ReportState,ReportTime,SendResultInfo,SendState,SendedTime,SPNumber
dim temp 
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''' 
AccountID=Request("AccountID")
MsgId=Request("MsgID")
MobilePhone=Request("MobilePhone")
ReportResultInfo=Request("ReportResultInfo")
ReportState=Request("ReportState")
ReportTime=Request("ReportTime")
SendResultInfo=Request("SendResultInfo")
SendState=Request("SendState")
SendedTime=Request("SendedTime")
SPNumber=Request("SPNumber")
temp=AccountID+" "+MsgID+" "+MobilePhone+" "+ReportResultInfo+" "+ReportState+" "+ReportTime+" "+SendResultInfo+" "+SendState+" "+SendedTime+" "+SPNumber
'您的业务逻辑
'........
'下面演示的是记录文件的DEMO
WriteData(temp)
Response.Write("OK"+temp)
Response.End
Sub WriteData(Desc)
	On Error Resume Next
	Dim oFs,OutFile
	set oFs = server.CreateObject("Scripting.FileSystemObject")
	set OutFile = oFs.OpenTextFile("C:\inetpub\wwwroot\upData.txt", 8, true)
	call OutFile.writeLine(Desc)
	OutFile.close 
end Sub
%>
                </pre>
            </div>
          <div class="m2apiLine"></div>
          <div class="m2api_t2" id="cd-placeholder-1_2">JAVA</div>
          <div class="m2apiCoder">
            <pre>
<%@ page language="java" import="java.util.*" pageEncoding="utf-8"%>
<%@ page import="java.io.*"%>
<%@ page import="java.io.FileNotFoundException"%>
<%@ page import="java.io.FileOutputStream"%>
<%@ page import="java.io.IOException"%>
<%@ page import="java.io.OutputStreamWriter"%>
<%@ page import="java.io.UnsupportedEncodingException"%>
<%
            String AccountID = request.getParameter("AccountID");
			String MsgID = request.getParameter("MsgID");
            String MobilePhone = request.getParameter("MobilePhone");
            String ReportResultInfo = request.getParameter("ReportResultInfo");
			String ReportState = request.getParameter("ReportState");
			String ReportTime = request.getParameter("ReportTime");
			String SendResultInfo = request.getParameter("SendResultInfo");
			String SendState = request.getParameter("SendState");
			String SendedTime = request.getParameter("SendedTime");
			String SPNumber = request.getParameter("SPNumber");
            //您的业务逻辑
            //.......
            //demo
            //记LOG的例子,主要是为了upMsg编码的处理
            //请保存该文件的时候 编码方式:utf-8 和pageEncoding="utf-8"
            String upTotalMsg ="AccountID=" + AccountID+ "&MsgID=" + MsgID + "&MobilePhone=" + MobilePhone + "&ReportResultInfo=" + ReportResultInfo +  "&ReportState=" + ReportState + "&ReportTime=" + ReportTime + "&SendResultInfo=" + SendResultInfo + "&SendState=" + SendState + "&SendedTime=" + SendedTime + "&SPNumber=" + SPNumber;
            try {
                OutputStreamWriter osw = new OutputStreamWriter(
                        new FileOutputStream("D:/javalog.txt"), "UTF-8");
                osw.write(upTotalMsg);
                osw.flush();
                osw.close();
            } catch (IOException e) {
                out.println(e.getMessage());
            }
%>
<%="ok"%>
            </pre>
          </div>
          <div class="m2apiLine"></div>
            <div class="m2api_t2" id="cd-placeholder-1_3">Asp.Net</div>
            <div class="m2apiCoder">
                <pre>
string AccountID = Request["AccountID"] ?? string.Empty;
string MsgID = Request["MsgID"] ?? string.Empty;
string MobilePhone = Request["MobilePhone"] ?? string.Empty;
string ReportResultInfo = Request["ReportResultInfo"] ?? string.Empty;
string ReportState= Request["ReportState"] ?? string.Empty;
string ReportTime = Request["ReportTime"] ?? string.Empty;
string SendResultInfo = Request["SendResultInfo"] ?? string.Empty;
string SendState = Request["SendState"] ?? string.Empty;
string SendedTime = Request["SendedTime"] ?? string.Empty;
string SPNumber = Request["SPNumber"] ?? string.Empty;
string result = string.Format("AccountID ={0}|MsgID ={1}|MobilePhone={2}|ReportResultInfo={3}|ReportState ={4}|ReportTime ={5}|SendResultInfo={6}|SendState={7}|SendedTime={8}|SPNumber={9}", AccountID, MsgID, MobilePhone, ReportResultInfo,ReportState,ReportTime,SendResultInfo,SendState,SendedTime,SPNumber);
Response.Write(result);
                </pre>
            </div>
            <div class="m2apiLine"></div>
            <div class="m2api_t2" id="cd-placeholder-1_4">PHP</div>
            <div class="m2apiCoder">
                <pre>
&lt;?php
$AccountID = $_REQUEST['AccountID'];
$MsgID = $_REQUEST['MsgID'];
$MobilePhone = $_REQUEST['MobilePhone'];
$ReportResultInfo = $_REQUEST['ReportResultInfo'];
$ReportState = $_REQUEST['ReportState'];
$ReportTime = $_REQUEST['ReportTime'];
$SendResultInfo = $_REQUEST['SendResultInfo'];
$SendState = $_REQUEST['SendState'];
$SendedTime = $_REQUEST['SendedTime'];
$SPNumber = $_REQUEST['SPNumber'];
//您的业务逻辑
//.......
//demo
//记LOG的例子,主要是为了$up_msg编码的处理
//请保存该文件的时候 编码方式:utf-8
$old_log = '';
if(file_exists("php-utf8-debug.log")){
	$old_log = file_get_contents("php-utf8-debug.log");
}
$up_msg = "AccountID=".$AccountID."&MsgID=".$MsgID."&MobilePhone=".$MobilePhone."&ReportResultInfo=".$ReportResultInfo."&ReportState=".$ReportState."&ReportTime=".$ReportTime."&SendResultInfo=".$SendResultInfo."&SendedTime"=.$SendedTime."&SendState=".$SendState."&SPNumber=".$SPNumber."\r\n";
$new_log = $old_log.$up_msg;
file_put_contents("php-utf8-debug.log",$new_log);
echo 'ok';
?&gt;
                </pre>
            </div>
            <div class="m2apiLine"></div>
        </div>
      </div>
      <div class="m2aipKmenu">
        <div class="m2apiKnm">快速导航</div>
        <dl>
          <dt><a class="m2herf_a1" href="#cd-placeholder-1">代码示例</a></dt>
          <dd>
            <ul>
              <li><a class="m2herf_a2" href="#cd-placeholder-1_1">ASP</a></li>
              <li><a class="m2herf_a2" href="#cd-placeholder-1_2">JAVA</a></li>
              <li><a class="m2herf_a2" href="#cd-placeholder-1_3">Asp.Net</a></li>
              <li><a class="m2herf_a2" href="#cd-placeholder-1_4">PHP</a></li>
            </ul>
          </dd>
        </dl>
      </div>
            <!-- code end -->
        </div>
    </div>
    <stl:include file="@/include/footer.html" />
    <stl:include file="@/include/js.html" />
    <stl:include file="@/include/api-js.html" />
</body>

</html>

